import streamlit as st

def mostrar_tela_de_login():
    """Exibe a tela de login."""
    st.title("Tela de Login")
    username = st.text_input("Utilizador")
    password = st.text_input("Senha", type="password")
    login_button = st.button("Entrar")

    if login_button:
        USUARIOS_VALIDOS = {"admin": "123"}  # Credenciais de login válidas
        if username.lower() in USUARIOS_VALIDOS and USUARIOS_VALIDOS[username.lower()] == password:
            # Login bem-sucedido: define o estado de login como True
            st.success("Login realizado com sucesso!")
            st.session_state.logged_in = True
            st.session_state.username = username.lower()
            st.rerun()  # Força a atualização da página
        else:
            st.error("Utilizador ou senha incorretos.")

# Inicializa o estado de login
if "logged_in" not in st.session_state:
    st.session_state.logged_in = False

# Lógica principal para exibir a tela de login
col1, col2, col3 = st.columns([1, 2, 1])  # Divide a página em 3 colunas
with col2:  # Centraliza o conteúdo na coluna do meio
    if not st.session_state.logged_in:
        mostrar_tela_de_login()
    else:
        st.write(f"Bem-vindo, {st.session_state.username}!")
